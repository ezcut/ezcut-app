(function(e){function t(t){for(var r,o,c=t[0],i=t[1],u=t[2],d=0,m=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/ezcut-app/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0cdc":function(e,t,n){"use strict";n("7959")},1547:function(e,t,n){"use strict";n("79ed")},"1f10":function(e,t,n){},2089:function(e){e.exports=JSON.parse('{"search.label.phoneNumber":"Cell phone number","search.placeholder.phoneNumber":"Search with cell phone number","search.button.searchText":"Search","search.error.phoneNumberNotExist":"Phone number does not exist"}')},"2a0a":function(e,t,n){"use strict";n("e81e")},"31f9":function(e,t,n){"use strict";n("9f68")},"31fd":function(e){e.exports=JSON.parse('{"home.retrieveNumber":"Retrieve number","home.searchNumber":"Search number","home.currentNumber":"Now serving: {number}","home.waitingNumber":"Number of people waiting: {number}"}')},3724:function(e,t,n){"use strict";n("4b6a")},"3f4c":function(e){e.exports=JSON.parse('{"search.label.phoneNumber":"電話號碼","search.placeholder.phoneNumber":"搜尋請輸入您的電話號碼","search.button.searchText":"搜尋","search.error.phoneNumberNotExist":"電話號碼不存在"}')},"466a":function(e,t,n){e.exports=n.p+"img/print_logo.b88d6f3b.png"},"4aeb":function(e,t,n){},"4b6a":function(e,t,n){},"4ffd":function(e,t,n){e.exports=n.p+"img/logo.43edc368.png"},"53c3":function(e){e.exports=JSON.parse('{"confirm.title":"您的號碼為："}')},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.isLoading?e._e():n("div",[e.isUserAuth?n("div",{staticClass:"btn-logout",on:{click:e.onLogout}},[e._v("Logout")]):e._e(),n("div",{staticClass:"app-wrapper"},[n("img",{staticClass:"logo-image",attrs:{src:e.imgSrc,alt:"EZ CUT LOGO"}}),n("router-view")],1),n("LanguageSwitcher",{staticClass:"language"})],1)])},s=[],o=n("1da1"),c=n("5530"),i=(n("ac1f"),n("5319"),n("96cf"),n("4ffd")),u=n.n(i),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"language-switcher"},e._l(e.languages,(function(t){return n("li",{key:t.value,class:{selected:t.value===e.selectedLang},on:{click:function(n){return e.onLanguageSelect(t.value)}}},[e._v(" "+e._s(t.displayName)+" ")])})),0)},d=[],m=[{value:"zh",displayName:"中文"},{value:"en",displayName:"EN"}],h={name:"LanguageSwitcher",data:function(){return{languages:m}},computed:{selectedLang:function(){return this.$i18n.locale}},methods:{onLanguageSelect:function(e){this.$i18n.locale=e}}},p=h,f=(n("31f9"),n("2877")),b=Object(f["a"])(p,l,d,!1,null,"6a1c15fc",null),g=b.exports,v=n("2f62"),C=n("4f60"),N=(n("1862"),n("256a"),{apiKey:"AIzaSyDO9eCHD8CX04dmUWcravflVbWnDskI0LI",authDomain:"queue-app-8370f.firebaseapp.com",projectId:"queue-app-8370f",storageBucket:"queue-app-8370f.appspot.com",messagingSenderId:"676140542433",appId:"1:676140542433:web:ddf51192fcf8635138caa0",measurementId:"G-NH3X1K4NF8"}),w=N,S=C["a"].initializeApp(w);C["a"].firestore().settings({experimentalForceLongPolling:!0,merge:!0});var x,y=S.firestore(),O=(n("d3b7"),n("ade3")),j={SET_USER:"setUser",SET_ERROR:"setError",SET_ROLE:"setRole"},T=(x={},Object(O["a"])(x,j.SET_USER,(function(e,t){e.user=t})),Object(O["a"])(x,j.SET_ERROR,(function(e,t){e.error=t})),Object(O["a"])(x,j.SET_ROLE,(function(e,t){e.role=t})),x),L=T,A=n("b166"),E=Object(A["a"])(new Date,"yyyyMMdd"),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/MM/dd HH:mm";return Object(A["a"])(e,t)},P=function(e){var t=/^[+]?(\d{1,2})?[\s.-]?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/;return t.test(e)},I=y.collection("customer").doc(E),k=y.collection("roles"),B=function(){return I.get().then((function(e){return e.data().latestNumber}))},R=function(e){return k.doc(e).get().then((function(e){return e.data().isAdmin}))},M={loginAction:function(e,t){var n=e.commit;return new Promise((function(e,r){C["a"].auth().signInWithEmailAndPassword(t.email,t.password).then((function(t){n(j.SET_USER,t.user),R(t.user.uid).then((function(e){e&&X.commit(j.SET_ROLE,"Admin")})).finally((function(){e()}))})).catch((function(e){n(j.SET_ERROR,e.message),r(e)}))}))},setUserAction:function(e,t){var n=e.commit;n(j.SET_USER,t)},logoutAction:function(e){var t=e.commit;return new Promise((function(e,n){C["a"].auth().signOut().then((function(){t(j.SET_USER,null),t(j.SET_ROLE,null),e()})).catch((function(e){t(j.SET_ERROR,e.message),n(e)}))}))}},$=M,z={getUser:function(e){return e.user},isUserAuth:function(e){return!!e.user},getError:function(e){return e.error},isAdminAuth:function(e){return!!e.user&&"Admin"===e.role}},H=z;r["a"].use(v["a"]);var U={user:null,error:null,role:null},X=new v["a"].Store({state:U,mutations:L,actions:$,getters:H,modules:{}}),D=null,F=new window.epson.ePOSDevice,G=function(e){e,"OK"!==e&&"SSL_CONNECT_OK"!==e||(alert("印表機連線成功！"),F.createDevice("local_printer",F.DEVICE_TYPE_PRINTER,{crypto:!1,buffer:!0},W)),"ERROR_TIMEOUT"===e&&setTimeout((function(){J()}),1e3)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"10.13.237.100",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8043;null===F&&(F=new window.epson.ePOSDevice),F.ondisconnect=function(){D=null},F.connect(e,t,G)},W=function(e,t){"OK"===t&&(D=e,D.timeout=6e4,D.onreceive=function(){},D.oncoveropen=function(){})};function V(e,t){D.addTextLang("zh-tw"),D.addTextSmooth(!0),D.addTextAlign(D.ALIGN_CENTER),D.brightness=1,D.halftone=D.HALFTONE_DITHER,D.addImage(t,0,0,272,177,D.COLOR_1,D.MODE_GRAY16),D.addFeed(),D.addTextSize(1,1),D.addText("Welcome to EZ Cut\n"),D.addTextSize(1,1),D.addText("".concat(_(e.createdAt),"\n")),D.addFeed(),D.addFeed(),D.addTextSize(2,2),D.addText("號碼：".concat(e.number,"\n")),D.addFeed(),D.addFeed(),D.addCut(D.CUT_FEED),D.send()}var Y,q,Q=function(e,t){return new Promise((function(n,r){D?(V(e,t),n()):(J(),r("Not connect to printer, trying to reconnect..."))}))},K={name:"App",components:{LanguageSwitcher:g},data:function(){return{imgSrc:u.a,isLoading:!1,waitingNumber:0}},computed:Object(c["a"])({},Object(v["c"])(["isUserAuth"])),created:function(){this.init(),this.addFirebaseLoginEvent()},methods:Object(c["a"])(Object(c["a"])({},Object(v["b"])(["logoutAction"])),{},{init:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,n=y.collection("customer").doc(E),t.next=4,n.get();case 4:r=t.sent,r.exists?n.update({waiting:e.waitingNumber}).then((function(){e.isLoading=!1})):n.set({customers:{},latestNumber:0,waiting:0}).then((function(){e.isLoading=!1}));case 6:case"end":return t.stop()}}),t)})))()},addFirebaseLoginEvent:function(){var e=this;this.isLoading=!0,C["a"].auth().onAuthStateChanged((function(t){var n,r;!t&&null!==(n=e.$router)&&void 0!==n&&null!==(r=n.meta)&&void 0!==r&&r.requiresAuth?(e.$router.push({name:"login"}),e.isLoading=!1):t?(X.commit(j.SET_USER,t),R(t.uid).then((function(t){t&&(X.commit(j.SET_ROLE,"Admin"),J()),e.isLoading=!1}))):e.isLoading=!1}))},onLogout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.logoutAction();case 2:e.$router.replace({name:"home"});case 3:case"end":return t.stop()}}),t)})))()}})},Z=K,ee=(n("5c0b"),Object(f["a"])(Z,a,s,!1,null,null,null)),te=ee.exports,ne=n("8c4f"),re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e.isLoading?n("Loading"):n("div",[n("div",{staticClass:"button-wrapper"},[n("Button",{attrs:{buttonText:e.$t("home.retrieveNumber"),buttonLarge:"",width:"250px"},on:{click:e.onOnlineReserve}}),n("Button",{staticClass:"btn-search",attrs:{width:"250px",buttonText:e.$t("home.searchNumber"),buttonLarge:""},on:{click:e.onNumberSearch}})],1),n("div",{staticClass:"counter-info"},[n("i18n",{staticClass:"text",attrs:{path:"home.waitingNumber",tag:"div"},scopedSlots:e._u([{key:"number",fn:function(){return[n("span",{staticClass:"counter"},[e._v(e._s(e.waitingNumber))])]},proxy:!0}])})],1)])],1)},ae=[],se=(n("4de4"),n("07ac"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button",class:e.classes,style:e.styles,on:{click:e.onClick}},[e._v(" "+e._s(e.buttonText)+" ")])}),oe=[],ce={name:"Button",props:{buttonText:{type:String,default:"Button"},buttonCancel:{type:Boolean,default:!1},buttonLarge:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},width:{type:String,default:"100%"}},computed:{classes:function(){return{"button-cancel":this.buttonCancel,"button-large":this.buttonLarge,disabled:this.disabled}},styles:function(){return{width:this.width}}},methods:{onClick:function(e){!this.disabled&&this.$emit("click",e)}}},ie=ce,ue=(n("3724"),Object(f["a"])(ie,se,oe,!1,null,"1030737a",null)),le=ue.exports,de={WAITING:0,CUTTING:1,FINISHED:2,SKIPPED:3},me={WAITING:0,CUTTING:1,FINISHED:2},he={name:"Home",components:{Button:le},data:function(){return{currentNumber:0,isLoading:!1,waitingNumber:0}},methods:{onOnlineReserve:function(){this.$router.push({name:"onlineReservation"})},onNumberSearch:function(){this.$router.push({name:"search"})}},created:function(){var e=this,t=y.collection("customer").doc(E);t.onSnapshot((function(n){e.waitingNumber=Object.values(n.data().customers).filter((function(e){return e.status===de.WAITING})).length,t.update({waiting:e.waitingNumber})}))}},pe=he,fe=(n("2a0a"),Object(f["a"])(pe,re,ae,!1,null,"30be3595",null)),be=fe.exports,ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"online-reservation"},[r("img",{ref:"imgRef",staticStyle:{display:"none"},attrs:{id:"myImg",src:n("466a"),alt:""}}),r("canvas",{ref:"canvasRef",staticStyle:{display:"none"},attrs:{id:"canvas",width:"272",height:"300"}}),e.isLoading?r("Loading"):r("div",[1===e.assignedStatus?r("div",{staticClass:"hairdresser-wrapper"},[r("div",{staticClass:"button-group"},[r("div",{staticClass:"title"},[e._v("請選擇設計師")]),r("div",{staticClass:"select-wrapper"},e._l(e.hairdressers,(function(t){return r("div",{key:t.id,staticClass:"button-select button-hairdresser",class:{"number-selected":e.form.selectedHairdresser.id===t.id},on:{click:function(n){return e.onHairdresserSelected(t)}}},[e._v(" "+e._s(t.name)+" ")])})),0)])]):e._e(),"Admin"!==e.role?r("Input",{staticClass:"input-number",attrs:{label:e.$t("reserve.phoneNumber.input.title"),type:"tel",inputmode:"numeric",placeholder:e.$t("reserve.phoneNumber.input.placeholder")},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}}):e._e(),r("div",{staticClass:"button-wrapper"},[r("Button",{staticClass:"button-confirm",attrs:{buttonText:e.$t("common.confirm"),disabled:e.isButtonDisabled},on:{click:e.onConfirm}}),r("Button",{staticClass:"button-back",attrs:{buttonText:e.$t("common.back"),buttonCancel:""},on:{click:e.onBack}})],1)],1)],1)},ve=[],Ce=n("2909"),Ne=(n("159b"),n("99af"),n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-container"},[e.label?n("div",{staticClass:"label"},[e._v(e._s(e.label))]):e._e(),n("input",{staticClass:"input",attrs:{type:e.type,placeholder:e.placeholder,min:e.min,inputmode:e.inputmode},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])}),we=[],Se=(n("a9e3"),{name:"Input",props:{label:{type:String,default:""},type:{type:String,default:"text"},value:{type:[String,Number]},placeholder:{type:String,default:""},min:{type:String,default:"1"},inputmode:{type:String,default:"text"}}}),xe=Se,ye=(n("6393"),Object(f["a"])(xe,Ne,we,!1,null,"7a4530c6",null)),Oe=ye.exports,je={UNASSIGNED:0,ASSIGNED:1},Te={name:"OnlineReservation",components:{Input:Oe,Button:le},data:function(){return{form:{phoneNumber:"",selectedHairdresser:null},hairdressers:[],assignedStatus:0,isLoading:!1,imgContext:null}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(v["c"])(["isAdminAuth"])),Object(v["d"])(["role"])),{},{isButtonDisabled:function(){return!P(this.form.phoneNumber)&&"Admin"!==this.role}}),methods:{onAssigned:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je.UNASSIGNED;this.assignedStatus=e,e!==je.UNASSIGNED?this.form.selectedHairdresser=this.hairdressers[0]:this.form.selectedHairdresser=null},onHairdresserSelected:function(e){this.form.selectedHairdresser=e},getHairdresser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,y.collection("hairdresser").get();case 3:n=t.sent,n.forEach((function(t){e.hairdressers=[].concat(Object(Ce["a"])(e.hairdressers),[{id:t.id,name:t.data().name}])})),e.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},onConfirm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=y.collection("customer").doc(E),t.next=3,B();case 3:r=t.sent,a={createdAt:Date.now(),number:r+1,phoneNumber:e.form.phoneNumber,assignedHairdresser:e.form.selectedHairdresser,status:de.WAITING},Q(a,e.imgContext).then((function(){n.set({customers:Object(O["a"])({},r+1,a),latestNumber:r+1},{merge:!0}),e.$router.push({name:"confirm",params:{customer:a}})})).catch((function(e){alert(e)}));case 6:case"end":return t.stop()}}),t)})))()},onBack:function(){this.$router.replace({name:"home"})}},mounted:function(){var e=this.$refs.canvasRef;this.imgContext=e.getContext("2d"),this.imgContext.drawImage(this.$refs.imgRef,0,0)},created:function(){this.getHairdresser()},beforeRouteEnter:function(e,t,n){"home"!==t.name?n({name:"home"}):n()}},Le=Te,Ae=(n("b7dc"),Object(f["a"])(Le,ge,ve,!1,null,"5d44bcb1",null)),Ee=Ae.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"confirm-page"},[n("div",{staticClass:"title"},[e._v(e._s(e.$t("confirm.title")))]),n("div",{ref:"number",staticClass:"text-number"},[e._v(e._s(e.showNumber))]),n("div",{staticClass:"date-time"},[e._v(e._s(e.showDate))]),n("Button",{staticClass:"button",attrs:{buttonText:e.$t("common.backHome"),buttonCancel:""},on:{click:e.onHome}})],1)},Pe=[],Ie=(n("a15b"),n("caad"),{name:"ConfirmPage",components:{Button:le},props:{customer:{type:Object,default:function(){}}},computed:{showNumber:function(){return Array.isArray(this.customer.number)?this.customer.number.join(", "):this.customer.number},showDate:function(){return _(this.customer.createdAt)}},methods:{onHome:function(){this.$router.replace({name:"home"})}},created:function(){var e=this;setTimeout((function(){e.onHome()}),3e3)},beforeRouteEnter:function(e,t,n){["search","onlineReservation"].includes(t.name)?n():n({name:"search"})}}),ke=Ie,Be=(n("c40e"),Object(f["a"])(ke,_e,Pe,!1,null,"685704fc",null)),Re=Be.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-page"},[e.isLoading?n("Loading"):n("div",[n("Input",{attrs:{label:e.$t("search.label.phoneNumber"),placeholder:e.$t("search.placeholder.phoneNumber"),type:"tel",inputmode:"numeric"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),n("div",{staticClass:"button-wrapper"},[n("Button",{staticClass:"button-search",attrs:{buttonText:e.$t("common.search"),disabled:e.isButtonDisabled},on:{click:e.onSearch}}),n("Button",{staticClass:"button-back",attrs:{buttonText:e.$t("common.back"),buttonCancel:""},on:{click:e.onBack}})],1),e.error?n("div",{staticClass:"error"},[e._v(" "+e._s(e.$t("search.error.phoneNumberNotExist"))+" ")]):e._e()],1)],1)},$e=[],ze={name:"SearchPage",components:{Input:Oe,Button:le},data:function(){return{phoneNumber:"",error:!1,isLoading:!1}},computed:{isButtonDisabled:function(){return!P(this.phoneNumber)}},methods:{getCustomerByPhone:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y.collection("customer").doc(E).get();case 2:return n=t.sent,r=n.data().customers,t.abrupt("return",Object.values(r).filter((function(t){return t.phoneNumber===e})));case 5:case"end":return t.stop()}}),t)})))()},onSearch:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.getCustomerByPhone(e.phoneNumber);case 3:if(n=t.sent,n.length){t.next=8;break}return e.isLoading=!1,e.error=!0,t.abrupt("return");case 8:r={number:[],createdAt:n[n.length-1].createdAt,phoneNumber:n[0].phoneNumber},n.forEach((function(e){r["number"].push(e.number)})),e.$router.push({name:"confirm",params:{customer:r}});case 11:case"end":return t.stop()}}),t)})))()},onBack:function(){this.$router.replace({name:"home"})}}},He=ze,Ue=(n("c8ae"),Object(f["a"])(He,Me,$e,!1,null,"284a3a70",null)),Xe=Ue.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hairdresser"},[e.isLoading?e._e():n(e.component[e.pageName],{tag:"component",attrs:{setPageName:e.setPageName,nextCustomerData:e.waitingCustomers[0]||null}})],1)},Fe=[],Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hairdresser-next"},[e.isLoading?n("Loading"):n("div",[n("div",{staticClass:"heading"},[e._v(e._s(e.$t("hairdresserNext.heading")))]),n("div",{staticClass:"queue-number"},[e._v(e._s(e.$t(e.nextCustomerNumber)))]),n("div",{staticClass:"button-wrapper"},[n("Button",{attrs:{disabled:!e.hasCustomers,buttonText:e.$t("hairdresserNext.button.proceed")},on:{click:function(t){return e.onAction(e.hairdresserStatus.CUTTING)}}}),n("Button",{attrs:{disabled:!e.hasCustomers,buttonText:e.$t("hairdresserNext.button.skip"),buttonCancel:!e.hasCustomers},on:{click:function(t){return e.onAction(e.hairdresserStatus.SKIPPED)}}})],1),e.isShowModal?n("Modal",{attrs:{title:e.$t(e.modalTitle[e.actionType]),isShowModal:e.isShowModal,actionCallback:e.onConfirm,actionText:e.$t(e.actionText[e.actionType])},on:{"update:isShowModal":function(t){e.isShowModal=t},"update:is-show-modal":function(t){e.isShowModal=t}}},[e.actionType===e.hairdresserStatus.CUTTING?[n("p",[e._v(" "+e._s(e.$t("hairdresserNext.modal.proceed.desc1"))+" ")]),n("p",[e._v(" "+e._s(e.$t("hairdresserNext.modal.proceed.desc2"))+" "),n("span",{staticClass:"modal-queue-number"},[e._v(e._s(e.nextCustomerNumber))])])]:[n("p",[e._v(" "+e._s(e.$t("hairdresserNext.modal.skip.desc"))+" "),n("span",{staticClass:"modal-queue-number"},[e._v(e._s(e.nextCustomerNumber))])])]],2):e._e()],1)],1)},Je=[],We=(n("3ca3"),n("ddb0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"header"},[n("div",[e._v(e._s(e.title))]),n("IconClose",{staticClass:"icon-close",nativeOn:{click:function(t){return e.onClose.apply(null,arguments)}}})],1),n("hr"),n("div",{staticClass:"content"},[e._t("default"),n("div",{staticClass:"modal-button-wrapper"},[n("Button",{attrs:{buttonText:e.actionText},on:{click:e.actionCallback}}),n("Button",{attrs:{buttonCancel:"",buttonText:e.$t("common.cancel")},on:{click:e.onClose}})],1)],2)])])}),Ve=[],Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Icon",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16","aria-label":"Close Icon","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M1.47 13.397c-.293.293-.293.768 0 1.06.293.294.767.294 1.06 0l5.464-5.463 5.464 5.464c.293.293.768.293 1.06 0 .293-.293.293-.768 0-1.06L9.055 7.932l5.403-5.403c.293-.293.293-.767 0-1.06-.293-.293-.768-.293-1.06 0L7.993 6.873 2.591 1.47c-.293-.293-.768-.293-1.06 0-.293.293-.293.768 0 1.06l5.402 5.403-5.463 5.464z","clip-rule":"evenodd"}})])},qe=[],Qe={name:"Icon",functional:!0,props:{width:{type:[Number,String],default:24},height:{type:[Number,String],default:24},viewBox:{type:String,required:!1}},render:function(e,t){var n=t.props,r=t.children,a=t.listeners,s=Object(c["a"])({},t.data);return s.class="svg-icon",s.attrs=Object(c["a"])({xmlns:"http://www.w3.org/2000/svg",width:n.width,height:n.height,viewBox:n.viewBox||"0 0 ".concat(n.width," ").concat(n.height),role:"presentation",fill:"currentColor","fill-rule":"nonzero",stroke:"none","stroke-width":"1","stroke-linecap":"butt","stroke-linejoin":"miter"},s.attrs),s.on=a,e("svg",s,r)}},Ke=Qe,Ze=(n("0cdc"),Object(f["a"])(Ke,Y,q,!1,null,"496b11fd",null)),et=Ze.exports,tt={name:"IconClose",components:{Icon:et}},nt=tt,rt=Object(f["a"])(nt,Ye,qe,!1,null,null,null),at=rt.exports,st={name:"Modal",props:{title:{type:String,default:"Title"},isShowModal:{type:Boolean,default:!1},actionText:{type:String,default:"Confirm"},actionCallback:{type:Function,default:function(){}}},components:{IconClose:at,Button:le},methods:{onClose:function(){this.$emit("update:isShowModal",!1)}}},ot=st,ct=(n("1547"),Object(f["a"])(ot,We,Ve,!1,null,"bd04de9a",null)),it=ct.exports,ut={NEXT:"next",START:"start",PAYMENT:"payment"},lt={name:"HairdresserNext",components:{Button:le,Modal:it},props:{setPageName:{type:Function,default:function(){}},nextCustomerData:{type:Object,default:function(){}}},data:function(){return{isShowModal:!1,actionType:null,waitingCustomers:[],hairdresserStatus:me,isLoading:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(v["d"])(["user"])),{},{modalTitle:function(){var e;return e={},Object(O["a"])(e,me.CUTTING,"hairdresserNext.modal.title1"),Object(O["a"])(e,me.SKIPPED,"hairdresserNext.modal.title2"),e},actionText:function(){var e;return e={},Object(O["a"])(e,me.CUTTING,"hairdresserNext.button.proceed"),Object(O["a"])(e,me.SKIPPED,"hairdresserNext.button.skip"),e},nextCustomerNumber:function(){return this.hasCustomers?this.nextCustomerData.number:"hairdresserNext.noCustomer"},hasCustomers:function(){return null!==this.nextCustomerData}}),methods:{onAction:function(e){this.actionType=e,this.isShowModal=!0},onConfirm:function(){var e=this;if(this.isLoading=!0,this.actionType!==me.CUTTING){var t=y.collection("customer").doc(E);t.update(Object(O["a"])({},"customers.".concat(this.nextCustomerNumber,".status"),de.SKIPPED)),this.isLoading=!1,this.isShowModal=!1}else{var n=y.collection("hairdresser").doc(this.user.uid).update({status:me.CUTTING,serving:this.nextCustomerNumber}),r=y.collection("customer").doc(E).update(Object(O["a"])({},"customers.".concat(this.nextCustomerNumber,".status"),de.CUTTING));Promise.all([n,r]).then((function(){e.setPageName(ut.START)})).finally((function(){e.isLoading=!1}))}}}},dt=lt,mt=(n("c114"),Object(f["a"])(dt,Ge,Je,!1,null,"1384ff40",null)),ht=mt.exports,pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hairdresser-start"},[e.isLoading?n("Loading"):n("div",[n("div",{staticClass:"heading"},[e._v(e._s(e.$t("hairdresserStart.heading")))]),n("div",{staticClass:"queue-number"},[e._v(e._s(e.serving))]),n("Button",{attrs:{buttonText:e.$t("hairdresserStart.button.finish")},on:{click:e.onFinish}}),e.isShowModal?n("Modal",{attrs:{title:e.$t("hairdresserStart.modal.button.pay"),isShowModal:e.isShowModal,actionCallback:e.onConfirm,actionText:e.$t("hairdresserStart.modal.button.pay")},on:{"update:isShowModal":function(t){e.isShowModal=t},"update:is-show-modal":function(t){e.isShowModal=t}}},[n("p",[e._v(" "+e._s(e.$t("hairdresserStart.modal.desc"))+" "),n("span",{staticClass:"modal-queue-number"},[e._v(e._s(e.serving))])])]):e._e()],1)],1)},ft=[],bt={name:"HairdresserStart",components:{Button:le,Modal:it},props:{setPageName:{type:Function,default:function(){}}},data:function(){return{isShowModal:!1,serving:null,isLoading:!1}},computed:Object(c["a"])({},Object(v["d"])(["user"])),methods:{getServingNumber:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y.collection("hairdresser").doc(e.user.uid).get();case 2:n=t.sent,e.serving=n.data().serving;case 4:case"end":return t.stop()}}),t)})))()},onFinish:function(){this.isShowModal=!0},onConfirm:function(){var e=this;this.isLoading=!0;var t=y.collection("customer").doc(E).update(Object(O["a"])({},"customers.".concat(this.serving,".status"),de.FINISHED)),n=y.collection("hairdresser").doc(this.user.uid).update({status:me.FINISHED});Promise.all([t,n]).then((function(){e.setPageName(ut.PAYMENT)})).finally((function(){e.isLoading=!1}))}},created:function(){this.getServingNumber()}},gt=bt,vt=(n("8602"),Object(f["a"])(gt,pt,ft,!1,null,"6875b954",null)),Ct=vt.exports,Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hairdresser-payment"},[e.isLoading?n("Loading"):n("div",[n("div",{staticClass:"heading"},[e._v(e._s(e.$t("hairdresserPayment.heading")))]),n("div",{staticClass:"payment-wrapper"},[n("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.onPay(e.paymentType.CASH)}}},[n("IconCash",{staticClass:"icon"}),n("div",[e._v(e._s(e.$t("hairdresserPayment.payment.cash")))])],1),n("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.onPay(e.paymentType.LINE)}}},[n("IconLine",{staticClass:"icon"}),n("div",[e._v(e._s(e.$t("hairdresserPayment.payment.line")))])],1),n("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.onPay(e.paymentType.JKOPAY)}}},[n("IconJK",{staticClass:"icon"}),n("div",[e._v(e._s(e.$t("hairdresserPayment.payment.jkopay")))])],1)]),e.isShowModal?n("Modal",{attrs:{title:e.$t(e.modalTitle[e.paymentSelected]),isShowModal:e.isShowModal,actionCallback:e.onConfirm,actionText:e.$t("common.confirm")},on:{"update:isShowModal":function(t){e.isShowModal=t},"update:is-show-modal":function(t){e.isShowModal=t}}},["cash"===e.paymentSelected?n("p",[e._v(" "+e._s(e.$t("hairdresserPayment.cash.desc"))+" ")]):e._e(),n(e.imgComp[e.paymentSelected],{tag:"component",staticClass:"img-comp"})],1):e._e()],1)],1)},wt=[],St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Icon",{attrs:{viewBox:"0 0 48 48",width:"48px",height:"48px","aria-label":"Line Icon","fill-rule":"evenodd"}},[n("path",{attrs:{fill:"#00c300",d:"M12.5,42h23c3.59,0,6.5-2.91,6.5-6.5v-23C42,8.91,39.09,6,35.5,6h-23C8.91,6,6,8.91,6,12.5v23C6,39.09,8.91,42,12.5,42z"}}),n("path",{attrs:{fill:"#fff",d:"M37.113,22.417c0-5.865-5.88-10.637-13.107-10.637s-13.108,4.772-13.108,10.637c0,5.258,4.663,9.662,10.962,10.495c0.427,0.092,1.008,0.282,1.155,0.646c0.132,0.331,0.086,0.85,0.042,1.185c0,0-0.153,0.925-0.187,1.122c-0.057,0.331-0.263,1.296,1.135,0.707c1.399-0.589,7.548-4.445,10.298-7.611h-0.001C36.203,26.879,37.113,24.764,37.113,22.417z M18.875,25.907h-2.604c-0.379,0-0.687-0.308-0.687-0.688V20.01c0-0.379,0.308-0.687,0.687-0.687c0.379,0,0.687,0.308,0.687,0.687v4.521h1.917c0.379,0,0.687,0.308,0.687,0.687C19.562,25.598,19.254,25.907,18.875,25.907z M21.568,25.219c0,0.379-0.308,0.688-0.687,0.688s-0.687-0.308-0.687-0.688V20.01c0-0.379,0.308-0.687,0.687-0.687s0.687,0.308,0.687,0.687V25.219z M27.838,25.219c0,0.297-0.188,0.559-0.47,0.652c-0.071,0.024-0.145,0.036-0.218,0.036c-0.215,0-0.42-0.103-0.549-0.275l-2.669-3.635v3.222c0,0.379-0.308,0.688-0.688,0.688c-0.379,0-0.688-0.308-0.688-0.688V20.01c0-0.296,0.189-0.558,0.47-0.652c0.071-0.024,0.144-0.035,0.218-0.035c0.214,0,0.42,0.103,0.549,0.275l2.67,3.635V20.01c0-0.379,0.309-0.687,0.688-0.687c0.379,0,0.687,0.308,0.687,0.687V25.219z M32.052,21.927c0.379,0,0.688,0.308,0.688,0.688c0,0.379-0.308,0.687-0.688,0.687h-1.917v1.23h1.917c0.379,0,0.688,0.308,0.688,0.687c0,0.379-0.309,0.688-0.688,0.688h-2.604c-0.378,0-0.687-0.308-0.687-0.688v-2.603c0-0.001,0-0.001,0-0.001c0,0,0-0.001,0-0.001v-2.601c0-0.001,0-0.001,0-0.002c0-0.379,0.308-0.687,0.687-0.687h2.604c0.379,0,0.688,0.308,0.688,0.687s-0.308,0.687-0.688,0.687h-1.917v1.23H32.052z"}})])},xt=[],yt={name:"IconLine",components:{Icon:et}},Ot=yt,jt=Object(f["a"])(Ot,St,xt,!1,null,null,null),Tt=jt.exports,Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Icon",{attrs:{viewBox:"0 0 48 48",width:"48px",height:"48px","aria-label":"Cash Icon","fill-rule":"evenodd"}},[n("path",{attrs:{fill:"#38b47b",d:"M12.262,4.206C10.439,4.082,8.63,4.337,7.019,5.16C5.436,5.968,4.504,7.653,4.379,9.1 c-0.297,3.439-0.609,7.872-0.134,11.291c0.844,6.08,0.565,10.007-0.093,16.109c-0.114,1.055-0.056,3.745,1.707,5.357 c1.713,1.568,2.715,1.538,4.324,1.588c5.47,0.167,9.939,0.334,15.409,0.501c3.689,0.113,7.382,0.225,11.07,0.073 c2.01-0.083,4.144-0.289,5.739-1.487c1.474-1.107,2.252-2.915,2.494-4.715c0.243-1.8,0.013-3.624-0.177-5.43 c-0.648-6.135-0.849-12.314-0.602-18.477c0.075-1.878,0.185-3.808-0.438-5.586c-2.003-5.718-9.695-3.177-14.258-2.947 C23.022,5.7,18.653,4.643,12.262,4.206z"}}),n("path",{attrs:{fill:"#010101",d:"M32.823,44.593c-2.424,0-4.844-0.073-7.212-0.146c-2.772-0.085-5.258-0.168-7.745-0.252 c-2.483-0.083-4.966-0.167-7.699-0.25L9.99,43.939c-1.557-0.046-2.683-0.079-4.469-1.713c-2.203-2.015-1.907-5.4-1.866-5.78 c0.629-5.839,0.949-9.829,0.094-15.986c-0.463-3.338-0.193-7.638,0.132-11.403c0.128-1.487,1.079-3.407,2.911-4.343 c1.586-0.811,3.435-1.147,5.504-1.007l0,0c2.222,0.152,4.191,0.377,6.097,0.596c3.527,0.402,6.862,0.781,11.003,0.576 c0.899-0.046,1.933-0.184,3.027-0.33c4.45-0.596,9.993-1.339,11.728,3.611c0.628,1.791,0.551,3.69,0.476,5.527l-0.01,0.243 c-0.246,6.114-0.045,12.307,0.599,18.405l0.042,0.396c0.181,1.684,0.366,3.425,0.134,5.152c-0.293,2.174-1.249,3.967-2.69,5.049 c-1.739,1.306-4.018,1.503-6.018,1.586C35.4,44.572,34.111,44.593,32.823,44.593z M11.396,4.676c-1.547,0-2.939,0.312-4.149,0.929 c-1.492,0.762-2.265,2.326-2.37,3.538c-0.32,3.711-0.587,7.94-0.138,11.181c0.871,6.271,0.547,10.314-0.09,16.23 c-0.128,1.189,0.053,3.568,1.547,4.935c1.512,1.384,2.333,1.408,3.824,1.452l0.179,0.005c2.733,0.084,5.218,0.167,7.702,0.251 c2.486,0.083,4.971,0.167,7.708,0.25c3.644,0.111,7.374,0.227,11.034,0.073c1.849-0.076,3.948-0.252,5.459-1.386 c1.653-1.241,2.15-3.278,2.3-4.383c0.216-1.607,0.036-3.287-0.138-4.912l-0.042-0.397c-0.648-6.147-0.853-12.389-0.604-18.551 l0.011-0.244c0.07-1.743,0.145-3.545-0.42-5.156c-1.466-4.181-6.349-3.527-10.651-2.95c-1.116,0.148-2.169,0.29-3.109,0.337 c-4.23,0.214-7.599-0.173-11.167-0.581c-1.894-0.217-3.852-0.44-6.051-0.591l0,0C11.946,4.686,11.668,4.676,11.396,4.676z"}}),n("g",[n("path",{attrs:{fill:"#d6e5e5",d:"M28.948,13.774c0.389-0.961,1.185-2.137,0.55-2.956c-0.365-0.471-0.977-0.681-1.567-0.758 c-0.891-0.117-1.582-0.377-2.297,0.167c-0.715,0.544-0.733,1.599-1.101,2.789c-1.902-0.133-3.874,0.365-5.377,1.538 c-1.503,1.174-2.483,3.049-2.408,4.954c0.079,2.017,1.295,3.856,2.856,5.136c1.561,1.28,3.45,2.083,5.322,2.84 c0.73,0.295,1.479,0.597,2.062,1.127s0.973,1.347,0.778,2.11c-0.293,1.141-1.664,1.609-2.841,1.665 c-2.227,0.106-4.484-0.616-6.237-1.994c-0.399-0.314-1.2-0.911-1.75-1.285c-0.5,0.5-0.978,0.938-1.43,1.531 s-0.844,1.143-1.349,1.774c1.575,1.748,3.606,3.082,5.835,3.834c-0.475,1.264-0.973,2.193-0.358,2.863 c0.615,0.671,2.054,0.517,2.957,0.408c0.493-0.06,1.02-0.246,1.267-0.677c0.273-0.476,0.323-1.296,0.456-2.246 c0.833,0,1.496-0.063,2.398-0.233c2.487-0.468,4.642-2.387,5.605-4.727c0.963-2.34,0.304-5.351-1.771-6.799 c-1.162-0.811-2.604-1.086-3.914-1.626c-1.209-0.498-2.32-1.234-3.251-2.153c-0.607-0.599-1.172-1.409-0.982-2.24 c0.239-1.047,1.505-1.477,2.578-1.505c2.147-0.055,4.302,0.798,5.83,2.306c0.307,0.304,0.657,0.659,1.087,0.621 c0.289-0.026,0.527-0.228,0.741-0.424c0.88-0.808,1.15-1.116,1.906-2.041c0.56-0.686,0.649-1.067,0.2-1.516 c-0.516-0.516-1.824-1.096-2.365-1.399C32.064,14.68,29.931,13.974,28.948,13.774z"}}),n("path",{attrs:{fill:"#010101",d:"M21.324,40.112c-0.761,0-1.567-0.136-2.055-0.667c-0.744-0.812-0.347-1.825,0.073-2.897l0.002-0.006 c-2.123-0.804-4.035-2.109-5.556-3.797c-0.164-0.183-0.172-0.456-0.019-0.647c0.325-0.406,0.603-0.778,0.88-1.149l0.463-0.616 c0.389-0.51,0.801-0.916,1.2-1.31l0.273-0.271c0.17-0.17,0.438-0.195,0.635-0.06c0.539,0.368,1.342,0.964,1.777,1.305 c1.652,1.299,3.801,1.981,5.905,1.889c0.957-0.047,2.154-0.412,2.379-1.291c0.16-0.624-0.238-1.26-0.63-1.615 c-0.515-0.468-1.223-0.754-1.908-1.03c-1.973-0.799-3.872-1.621-5.456-2.919c-1.854-1.52-2.961-3.525-3.039-5.503 c-0.079-1.998,0.917-4.056,2.6-5.368c1.426-1.114,3.341-1.712,5.313-1.662c0.05-0.192,0.094-0.379,0.136-0.559 c0.194-0.828,0.377-1.61,1.034-2.11c0.757-0.577,1.501-0.454,2.22-0.334c0.143,0.023,0.291,0.049,0.444,0.068 c0.849,0.112,1.505,0.44,1.898,0.949c0.697,0.9,0.183,2.003-0.231,2.89c-0.004,0.009-0.009,0.018-0.013,0.026 c1.085,0.288,2.648,0.81,2.975,0.992c0.13,0.073,0.306,0.162,0.505,0.263c0.68,0.346,1.525,0.775,1.97,1.22 c0.892,0.892,0.177,1.766-0.167,2.186c-0.792,0.968-1.067,1.277-1.955,2.093c-0.27,0.248-0.594,0.515-1.035,0.554 c-0.664,0.066-1.119-0.404-1.461-0.742c-1.445-1.427-3.479-2.242-5.487-2.183c-0.926,0.023-1.936,0.377-2.104,1.115 c-0.144,0.634,0.381,1.313,0.846,1.772c0.881,0.869,1.949,1.577,3.091,2.048c0.421,0.173,0.855,0.318,1.29,0.463 c0.925,0.31,1.881,0.629,2.72,1.215c2.175,1.518,3.03,4.769,1.947,7.399c-1.057,2.569-3.402,4.544-5.974,5.028 c-0.766,0.144-1.375,0.215-2.052,0.234l-0.017,0.129c-0.096,0.755-0.178,1.406-0.445,1.873c-0.293,0.511-0.861,0.83-1.641,0.924 C22.299,40.054,21.821,40.112,21.324,40.112z M14.818,32.383c1.477,1.538,3.314,2.705,5.337,3.388 c0.128,0.043,0.234,0.137,0.292,0.259c0.058,0.123,0.064,0.264,0.017,0.391l-0.19,0.493c-0.388,0.988-0.576,1.521-0.268,1.856 c0.458,0.501,1.91,0.324,2.529,0.249c0.209-0.025,0.714-0.118,0.894-0.43c0.167-0.292,0.238-0.853,0.32-1.501l0.074-0.565 c0.035-0.247,0.246-0.431,0.495-0.431c0.81,0,1.435-0.061,2.307-0.224c2.247-0.424,4.302-2.161,5.234-4.427 c0.911-2.215,0.211-4.938-1.596-6.198c-0.721-0.503-1.567-0.786-2.465-1.086c-0.455-0.153-0.912-0.306-1.354-0.488 c-1.261-0.519-2.44-1.3-3.412-2.26c-0.927-0.914-1.314-1.85-1.119-2.707c0.307-1.348,1.837-1.861,3.053-1.893 c2.235-0.069,4.58,0.856,6.194,2.45c0.236,0.233,0.535,0.516,0.69,0.479c0.13-0.012,0.3-0.158,0.448-0.294 c0.846-0.777,1.09-1.052,1.857-1.989c0.485-0.594,0.406-0.673,0.233-0.846c-0.332-0.332-1.165-0.755-1.716-1.035 c-0.213-0.107-0.4-0.203-0.54-0.281c-0.238-0.132-2.285-0.825-3.287-1.029c-0.146-0.03-0.271-0.123-0.341-0.254 s-0.079-0.286-0.023-0.424c0.079-0.195,0.175-0.399,0.271-0.607c0.393-0.842,0.647-1.467,0.347-1.854 c-0.289-0.374-0.832-0.517-1.237-0.569c-0.165-0.021-0.324-0.048-0.479-0.074c-0.7-0.116-1.056-0.158-1.45,0.144 c-0.371,0.281-0.501,0.838-0.666,1.542c-0.074,0.315-0.152,0.65-0.26,0.996c-0.069,0.223-0.283,0.369-0.512,0.352 c-1.867-0.137-3.702,0.393-5.035,1.434c-1.433,1.119-2.282,2.858-2.216,4.541c0.067,1.692,1.042,3.43,2.674,4.769 c1.476,1.209,3.298,1.997,5.192,2.763c0.771,0.312,1.563,0.632,2.211,1.22c0.625,0.568,1.196,1.551,0.926,2.604 c-0.359,1.404-1.94,1.975-3.3,2.04c-2.333,0.119-4.732-0.654-6.571-2.101c-0.297-0.233-0.881-0.671-1.385-1.029 c-0.384,0.378-0.747,0.738-1.087,1.185l-0.457,0.607C15.247,31.82,15.042,32.095,14.818,32.383z"}})])])},At=[],Et={name:"IconCash",components:{Icon:et}},_t=Et,Pt=Object(f["a"])(_t,Lt,At,!1,null,null,null),It=Pt.exports,kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("img",{attrs:{src:n("ea8e"),alt:"jkopay"}})},Bt=[],Rt={name:"IconLine"},Mt=Rt,$t=Object(f["a"])(Mt,kt,Bt,!1,null,null,null),zt=$t.exports,Ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("img",{attrs:{src:n("c69f"),alt:"jkopay QR"}})},Ut=[],Xt={name:"IconJKQR"},Dt=Xt,Ft=Object(f["a"])(Dt,Ht,Ut,!1,null,null,null),Gt=Ft.exports,Jt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("img",{attrs:{src:n("ee5c"),alt:"line pay QR"}})},Wt=[],Vt={name:"IconLineQR"},Yt=Vt,qt=Object(f["a"])(Yt,Jt,Wt,!1,null,null,null),Qt=qt.exports,Kt={LINE:"line",JKOPAY:"jkopay",CASH:"cash"},Zt={name:"HairdresserPayment",components:{IconLine:Tt,IconCash:It,IconJK:zt,IconJKQR:Gt,IconLineQR:Qt,Modal:it},props:{setPageName:{type:Function,default:function(){}}},data:function(){return{paymentType:Kt,isShowModal:!1,paymentSelected:null,serving:null,isLoading:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(v["d"])(["user"])),{},{modalTitle:function(){var e;return e={},Object(O["a"])(e,Kt.LINE,"hairdresserPayment.payment.line"),Object(O["a"])(e,Kt.CASH,"hairdresserPayment.payment.cash"),Object(O["a"])(e,Kt.JKOPAY,"hairdresserPayment.payment.jkopay"),e},imgComp:function(){var e;return e={},Object(O["a"])(e,Kt.LINE,Qt),Object(O["a"])(e,Kt.JKOPAY,Gt),e}}),methods:{onPay:function(e){this.paymentSelected=e,this.isShowModal=!0},onConfirm:function(){var e=this;this.isLoading=!0;var t=y.collection("hairdresser").doc(this.user.uid);t.update({status:me.WAITING,serving:null}).then((function(){e.setPageName(ut.NEXT)})).finally((function(){e.isLoading=!1}))}}},en=Zt,tn=(n("a245"),Object(f["a"])(en,Nt,wt,!1,null,"c632b666",null)),nn=tn.exports,rn={name:"Hairdresser",components:{Button:le,HairdresserNext:ht,HairdresserStart:Ct},data:function(){return{pageName:ut.NEXT,waitingCustomers:[],isLoading:!1,unsubscribe:null}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(v["d"])(["user"])),Object(v["c"])(["isUserAuth","isAdminAuth"])),{},{component:function(){var e;return e={},Object(O["a"])(e,ut.NEXT,ht),Object(O["a"])(e,ut.START,Ct),Object(O["a"])(e,ut.PAYMENT,nn),e}}),methods:{getWaitingCustomers:function(){var e=this;this.isLoading=!0;var t=y.collection("customer").doc(E);this.unsubscribe=t.onSnapshot((function(t){var n=Object.values(t.data().customers);e.waitingCustomers=n.filter((function(t){var n;return t.status===de.WAITING&&null===t.assignedHairdresser||(null===(n=t.assignedHairdresser)||void 0===n?void 0:n.id)===e.user.uid&&t.status===de.WAITING})),e.isLoading=!1}))},setPageName:function(e){this.pageName=e},checkStatus:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y.collection("hairdresser").doc(e.user.uid).get();case 2:n=t.sent,n.data().status===me.WAITING?e.setPageName(ut.NEXT):n.data().status===me.CUTTING?e.setPageName(ut.START):e.setPageName(ut.PAYMENT);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){!this.isUserAuth||this.isUserAuth&&this.isAdminAuth?this.$router.replace({name:"home"}):(this.checkStatus(),this.getWaitingCustomers())},beforeDestroy:function(){this.unsubscribe&&this.unsubscribe()}},an=rn,sn=(n("5767"),Object(f["a"])(an,De,Fe,!1,null,"04fcb6c4",null)),on=sn.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("Input",{attrs:{label:"Email",placeholder:"Enter Email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),n("Input",{staticClass:"input-password",attrs:{label:"Password",type:"password",placeholder:"Enter Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),n("Button",{attrs:{buttonText:"Login"},on:{click:e.onLogin}},[e._v("Login")])],1)},un=[],ln={name:"Login",components:{Input:Oe,Button:le},data:function(){return{form:{email:"",passowrd:""}}},computed:Object(c["a"])({},Object(v["d"])(["role"])),methods:Object(c["a"])(Object(c["a"])({},Object(v["b"])(["loginAction","setUserAction"])),{},{onLogin:function(){var e=this;this.loginAction(this.form).then((function(){"Admin"===e.role?e.$router.replace({name:"home"}):e.$router.replace({name:"hairdresser"})}))}})},dn=ln,mn=(n("c494"),Object(f["a"])(dn,cn,un,!1,null,"2b59173b",null)),hn=mn.exports;r["a"].use(ne["a"]);var pn=new ne["a"]({mode:"hash",base:"/",routes:[{path:"/",name:"home",component:be},{path:"/login",name:"login",component:hn},{path:"/online-reservation",name:"onlineReservation",component:Ee,meta:{admin:!0}},{path:"/confirm",name:"confirm",component:Re,props:!0},{path:"/search",name:"search",component:Xe},{path:"/hairdresser",name:"hairdresser",component:on,meta:{requiresAuth:!0}},{path:"*",redirect:{name:"home"}}]}),fn=pn,bn=n("a925"),gn=n("31fd"),vn=n("f784"),Cn=n("be7b"),Nn=n("2089"),wn=n("ef56"),Sn=n("de70"),xn=Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])({},gn),vn),Cn),Nn),wn),Sn),yn=n("c1d6"),On=n("c836"),jn=n("dcab"),Tn=n("3f4c"),Ln=n("53c3"),An=n("edec"),En=Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])({},yn),On),jn),Tn),Ln),An),_n={en:xn,zh:En},Pn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},In=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading"},[n("div",{staticClass:"container"},[n("div",{staticClass:"ring"}),n("div",{staticClass:"ring"}),n("div",{staticClass:"ring"}),n("p",[e._v("Loading...")])])])}],kn={name:"Loading"},Bn=kn,Rn=(n("c26d"),Object(f["a"])(Bn,Pn,In,!1,null,"b9767c06",null)),Mn=Rn.exports,$n="zh";r["a"].config.productionTip=!1,r["a"].component("Loading",Mn),r["a"].use(bn["a"]);var zn=new bn["a"]({locale:$n,fallbackLocale:"en",messages:_n});new r["a"]({render:function(e){return e(te)},router:fn,store:X,i18n:zn}).$mount("#app")},5767:function(e,t,n){"use strict";n("f5b2")},"588a":function(e,t,n){},"5c0b":function(e,t,n){"use strict";n("9c0c")},6393:function(e,t,n){"use strict";n("588a")},"662f":function(e,t,n){},7959:function(e,t,n){},"79ed":function(e,t,n){},8602:function(e,t,n){"use strict";n("4aeb")},8623:function(e,t,n){},"9c0c":function(e,t,n){},"9f68":function(e,t,n){},a245:function(e,t,n){"use strict";n("e5f5")},ae4b:function(e,t,n){},af38:function(e,t,n){},b197:function(e,t,n){},b7dc:function(e,t,n){"use strict";n("1f10")},be7b:function(e){e.exports=JSON.parse('{"common.back":"Back","common.confirm":"Confirm","common.backHome":"Back Home","common.search":"Search","common.cancel":"Cancel"}')},c114:function(e,t,n){"use strict";n("ae4b")},c1d6:function(e){e.exports=JSON.parse('{"home.retrieveNumber":"取票","home.searchNumber":"查詢號碼","home.currentNumber":"現在服務號碼：{number}","home.waitingNumber":"等待人數：{number}"}')},c26d:function(e,t,n){"use strict";n("af38")},c40e:function(e,t,n){"use strict";n("b197")},c494:function(e,t,n){"use strict";n("8623")},c69f:function(e,t,n){e.exports=n.p+"img/jk_qr.76c2970d.png"},c836:function(e){e.exports=JSON.parse('{"reserve.reserveNumber.input.title":"人數","reserve.phoneNumber.input.title":"電話號碼","reserve.phoneNumber.input.placeholder":"請輸入您的手機號碼"}')},c8ae:function(e,t,n){"use strict";n("662f")},dcab:function(e){e.exports=JSON.parse('{"common.back":"返回","common.confirm":"確定","common.backHome":"返回首頁","common.search":"搜尋","common.cancel":"取消"}')},de70:function(e){e.exports=JSON.parse('{"hairdresserNext.heading":"Next Customer","hairdresserNext.modal.title1":"Start Cutting","hairdresserNext.modal.title2":"Skip Customer","hairdresserNext.button.start":"Start","hairdresserNext.button.skip":"Skip","hairdresserNext.button.cancel":"Cancel","hairdresserNext.noCustomer":"No customers","hairdresserNext.button.proceed":"Proceed","hairdresserNext.modal.proceed.desc1":"Are you sure you want to proceed? Once you proceed you cannot revert.","hairdresserNext.modal.proceed.desc2":"You are about to Proceed with number:","hairdresserNext.modal.skip.desc":"You are about to skip the number:","hairdresserStart.heading":"Now Serving Customer:","hairdresserStart.button.finish":"Finish","hairdresserStart.modal.button.pay":"Go Pay","hairdresserStart.modal.desc":"You are about to Finish with number:","hairdresserPayment.heading":"Please choose your payment type","hairdresserPayment.payment.cash":"Cash","hairdresserPayment.payment.line":"Line Pay","hairdresserPayment.payment.jkopay":"JKOPAY","hairdresserPayment.cash.desc":"User is using cash as payment"}')},e5f5:function(e,t,n){},e81e:function(e,t,n){},ea8e:function(e,t,n){e.exports=n.p+"img/jkopay.f41fe593.png"},edec:function(e){e.exports=JSON.parse('{"hairdresserNext.heading":"下一位","hairdresserNext.modal.title1":"開始","hairdresserNext.modal.title2":"跳過","hairdresserNext.button.proceed":"開始","hairdresserNext.button.skip":"跳過","hairdresserNext.noCustomer":"目前沒有客人","hairdresserNext.modal.proceed.desc1":"您確定要繼續嗎？","hairdresserNext.modal.proceed.desc2":"下一位號碼為","hairdresserNext.modal.skip.desc":"跳過的號碼為","hairdresserStart.heading":"正在服務號碼","hairdresserStart.button.finish":"結束","hairdresserStart.modal.button.pay":"結帳","hairdresserStart.modal.desc":"您確定準備結束號碼","hairdresserPayment.heading":"請選擇付款方式","hairdresserPayment.payment.cash":"現金","hairdresserPayment.payment.line":"Line Pay","hairdresserPayment.payment.jkopay":"街口支付","hairdresserPayment.cash.desc":"客人選擇使用現金支付"}')},ee5c:function(e,t){e.exports="data:image/png;base64,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"},ef56:function(e){e.exports=JSON.parse('{"confirm.title":"Your number is:"}')},f5b2:function(e,t,n){},f784:function(e){e.exports=JSON.parse('{"reserve.reserveNumber.input.title":"Number of people","reserve.phoneNumber.input.title":"Phone number","reserve.phoneNumber.input.placeholder":"Cell phone number"}')}});
//# sourceMappingURL=app.83d628b9.js.map